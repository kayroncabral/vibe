extend type Query {
  schedule: Schedule!
  schedules(input: SchedulesInput): [Schedule!]!
}

extend type Mutation {
  createSchedules(input: CreateSchedulesInput!): [Schedule!]!

  schedule(input: ScheduleInput!): Schedule!
  cancelSchedule(input: CancelScheduleInput!): Schedule!
}

input SchedulesFilterInput {
  start: Date
  end: Date
  status: ScheduleStatus
}

input CreateSchedulesInput {
  dates: [Date!]!
}

input SchedulesInput {
  filter: SchedulesFilterInput
}

input ScheduleInput {
  schedule: ID!
  patient: ID!
}

input CancelScheduleInput {
  schedule: ID!
  patient: ID!
}

type Schedule implements Node {
  id: ID!
  doctor: Doctor!
  patient(name: String): Patient
  date: Date!
  status: ScheduleStatus
  scheduledAt: Date
}

enum ScheduleStatus {
  AVAILABLE
  SCHEDULED
  CANCELED
}
